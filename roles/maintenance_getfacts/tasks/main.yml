---
- name: Gather facts
  ansible.builtin.setup:

- name: Set debug mode
  ansible.builtin.set_fact:
    maintenance_getfacts_print_debug: "{{ print_debug }}"
  when: print_debug is defined

- name: Print facts
  ansible.builtin.debug:
    msg: "{{ ansible_facts }}"
  when: maintenance_getfacts_print_debug
