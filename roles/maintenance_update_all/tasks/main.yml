---
- name: Run appropiate update routine for package manager
  ansible.builtin.include_tasks: 01-{{ ansible_pkg_mgr }}.yml

- name: Check if pipx is installed
  ansible.builtin.stat:
    path: /usr/local/bin/pipx # Adjust the path based on your installation
  register: pipx_check

- name: Run pipx update routine if needed
  ansible.builtin.include_tasks: 02-pipx.yml
  when: pipx_check.stat.exists
